---
layout: post
title: Generalized Method of Moments (GMM) in R (Part 1 of 3)
subtitle: Introduction of concepts of GMM
gh-repo: AlfredSAM/alfredsam.github.io
gh-badge: [star, fork, follow]
cover-img: /assets/img/gmm.jpg
tags: [Econometrics, R, Ordinary Least Square, Estimations, Generalized Methods of Moment]
comments: true
---


In this post basic concepts of Generalized Method of Moments (GMM) are introduced and the applications in R are also discussed. Interested audience can also refer to the [video](https://youtu.be/bNWhsHug1rc) uploaded by [Morten Nyboe Tabor](http://scholar.google.dk/citations?user=BFWWSE8AAAAJ&hl=en) (The source of the cover letter is also from his video: https://i.ytimg.com/vi/bNWhsHug1rc/maxresdefault.jpg). Well, the first stuff to be clarified is that **GMM** here is the abbreviation for **Generalized Method of Moments** in Econometrics but NOT **Gaussian Mixture Modeling** in machine learning. Even though machine learning and furthermore deep learning are also the hot and popular topics in Economics and business schools, traditional theory-driven empirical thoughts are still the central parts of courses. During my teaching tour in the university, clarification of the difference between causal inference and prediction is always the first topic. In general, even the well trained machine learning model cannot directly tell the causal inferences. Nowadays, extraordinary tool of SHAP can try decomposing the predicted value of individual observation into the contributions of every feature value. However, in most of the time only correlation or association can be interpreted. The detailed discussion about such issue can be found in [Be Careful When Interpreting Predictive Models in Search of Causal Insights](https://towardsdatascience.com/be-careful-when-interpreting-predictive-models-in-search-of-causal-insights-e68626e664b6) authored by [Scott Lundberg](https://scottlundberg.com/) (2021), also the key author of the literatures about [SHAP](https://github.com/slundberg/shap) ([Scott Lundberg](https://scottlundberg.com/), 2017). However, in practice Economic policy makers in the governments or the managers in the corporations always consider **policy interventions**. Therefore, the evaluation of the effects on specific targets from the change of some policy in the counterfactual analysis is usually preferred in articles, reports, and academic papers. However, without the examination of the backgrounds and theories, results about SHAP values for the trained machine learning model can be misinterpreted as causal inference and misleading policy suggestions are generated. Just take the case shown in [that post](https://towardsdatascience.com/be-careful-when-interpreting-predictive-models-in-search-of-causal-insights-e68626e664b6) by [Scott Lundberg](https://scottlundberg.com/) for example, the trained model just indicates the **positive correlation between the number of bugs reported and the individual’s intention to renew the product**. Do you think the instant suggestion is to ask the technical staffs to bring in more bugs in the future to boost the sales? Therefore, a series concepts about causal inferences, Economics or business theories, and the empirical strategies are always discussed in Econometrics classes. In order to facilitate the evaluation of the policy within counterfactual analysis, theories are seriously discussed to generate the parametric equations. From the data samples, appropriate estimation approaches are implemented to estimate the fixed but unknown parameters of meanings. Statistical inferences are thus discussed about causal inferences. This is the usual path about empirical studies in Economics and business studies.

**Generalized Method of Moments (GMM)** is an estimation approach for the unknown parameters within the specified model. Interestingly, GMM is usually not discussed especially in the first course of Econometrics probably because of the time limitation, and most of the students not pursuing an academic career or PhD usually would like to take ONLY ONE (or better zero) Econometrics course. That is the basic reason for most of the students in business school to feel unfamiliar with GMM. However, all of them just apply GMM in their projects or reports, since **Ordinary Least Squares (OLS)** and **Maximum Likelihood Estimation (MLE)** can be just viewed as GMM. GMM is actually appealing not only because of its conceptual ideas to include other [extremum estimators](https://en.wikipedia.org/wiki/Extremum_estimator) (e.g. OLS and MLE) into the omnibus system but also because of its flexibility about model constructions. In this part 1 of 3, I mainly focus on the basic ideas of GMM and how GMM is usually more robust for statistical inferences using simple linear regression (OLS) as the example. In part 2 of 3, **Quasi-Maximum Likelihood Estimate (QMLE)** is discussed for the relation between MLE and GMM. In part 3 of 3, GMM is introduced for the structural models, so the comparison between **Two-Stage Least Squares (2SLS) Regression** and GMM is discussed. Please check https://github.com/AlfredSAM/medium_blogs/blob/main/GMM_in_R/GMM_in_R.ipynb for the codes and examples used in these posts.


## What are the moments?

Just take the simple example as the beginning to illustrates what the **(population) moments** are. Actually, in probability theory and statistics, **(population) moments** are referring to **population mean or expectation**, which is usually the key population parameter of interest. For example, suppose $x$ is random variable with normal distribution, then its mean is $\mathbb{E}[x]=\mu$. _On the other hand, theoretically the **population mean or expectation** can be implemented on arbitrary function of random variables._ For example, with simple conversion we can also have $\sigma^2=\mathbb{E}[(x-\mu)^2]$. Up until now we have got two equations, or say, moment conditions, for two parameters σ and μ. With simple computation we can have the solutions for them: $\mu=\mathbb{E}[x]$  and $\sigma^2=\mathbb{E}[(x-\mathbb{E}[x])^2]$. Such simple computation seems not to be helpful to get the values for $\mu$ and $\sigma^2$, since we have no idea about the distribution about $x$ and then cannot compute the corresponding **population mean or expectation**. 
